package page_replacement;

import java.util.*;

public class optimal {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        System.out.print("Enter number of frames: ");
        int framesCount = sc.nextInt();

        System.out.print("Enter number of pages: ");
        int n = sc.nextInt();

        int[] pages = new int[n];
        System.out.println("Enter the reference string:");
        for (int i = 0; i < n; i++)
            pages[i] = sc.nextInt();

        ArrayList<Integer> frames = new ArrayList<>(framesCount);
        int pageFaults = 0;

        for (int i = 0; i < n; i++) {
            int p = pages[i];

            if (!frames.contains(p)) {
                if (frames.size() < framesCount) {
                    frames.add(p);
                } else {
                    // Find the page to replace
                    int farthest = i + 1, index = -1;
                    for (int j = 0; j < frames.size(); j++) {
                        int k;
                        for (k = i + 1; k < n; k++) {
                            if (frames.get(j) == pages[k]) break;
                        }
                        if (k > farthest) {
                            farthest = k;
                            index = j;
                        }
                    }
                    if (index == -1) index = 0; // if not found, replace first
                    frames.set(index, p);
                }
                pageFaults++;
            }
            System.out.println("Frames: " + frames);
        }

        System.out.println("Total Page Faults = " + pageFaults);
        sc.close();
    }
}


INPUT
Enter number of frames: 4
Enter length of reference string: 10
Enter the reference string (space-separated): 
7 0 1 2 0 3 0 4 2 3

Expected Results (for your reference):

FIFO: 7 page faults
LRU: 6 page faults
Optimal: 5 page faults
